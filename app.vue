<template>
  <div v-if="!openCurtains" class="fixed top-0 left-0 z-20 flex h-full w-full" @click="openCurtainsAction()">
    <div class="relative z-10 m-auto">
      <div class="flex flex-col space-y-10">
        <svg class="-ml-10 w-1/2" viewBox="0 0 301 3" fill="none" xmlns="http://www.w3.org/2000/svg" :class="curtainsOpen && 'animate__animated animate__fadeOutDown animate__faster'">
          <path d="M0.462078 2.68801C0.286078 2.68801 0.286078 2.49001 0.462078 2.09401C0.682078 1.65401 0.946078 1.21401 1.25408 0.774015C1.56208 0.334014 1.78208 0.114014 1.91408 0.114014H14.9821C15.2461 0.114014 15.2681 0.334014 15.0481 0.774015C14.8721 1.21401 14.6081 1.65401 14.2561 2.09401C13.9481 2.49001 13.6841 2.68801 13.4641 2.68801H0.462078Z" fill="white"/>
          <path d="M41.2712 2.68801C41.0952 2.68801 41.0952 2.49001 41.2712 2.09401C41.4912 1.65401 41.7552 1.21401 42.0632 0.774015C42.3712 0.334014 42.5912 0.114014 42.7232 0.114014H55.7912C56.0552 0.114014 56.0772 0.334014 55.8572 0.774015C55.6812 1.21401 55.4172 1.65401 55.0652 2.09401C54.7572 2.49001 54.4932 2.68801 54.2732 2.68801H41.2712Z" fill="white"/>
          <path d="M82.0804 2.68801C81.9044 2.68801 81.9044 2.49001 82.0804 2.09401C82.3004 1.65401 82.5644 1.21401 82.8724 0.774015C83.1804 0.334014 83.4004 0.114014 83.5324 0.114014H96.6004C96.8644 0.114014 96.8864 0.334014 96.6664 0.774015C96.4904 1.21401 96.2264 1.65401 95.8744 2.09401C95.5664 2.49001 95.3024 2.68801 95.0824 2.68801H82.0804Z" fill="white"/>
          <path d="M122.89 2.68801C122.714 2.68801 122.714 2.49001 122.89 2.09401C123.11 1.65401 123.374 1.21401 123.682 0.774015C123.99 0.334014 124.209 0.114014 124.341 0.114014H137.41C137.674 0.114014 137.695 0.334014 137.475 0.774015C137.299 1.21401 137.036 1.65401 136.684 2.09401C136.376 2.49001 136.111 2.68801 135.891 2.68801H122.89Z" fill="white"/>
          <path d="M163.699 2.68801C163.523 2.68801 163.523 2.49001 163.699 2.09401C163.919 1.65401 164.183 1.21401 164.491 0.774015C164.799 0.334014 165.019 0.114014 165.151 0.114014H178.219C178.483 0.114014 178.505 0.334014 178.285 0.774015C178.109 1.21401 177.845 1.65401 177.493 2.09401C177.185 2.49001 176.921 2.68801 176.701 2.68801H163.699Z" fill="white"/>
          <path d="M204.508 2.68801C204.332 2.68801 204.332 2.49001 204.508 2.09401C204.728 1.65401 204.992 1.21401 205.3 0.774015C205.608 0.334014 205.828 0.114014 205.96 0.114014H219.028C219.292 0.114014 219.314 0.334014 219.094 0.774015C218.918 1.21401 218.654 1.65401 218.302 2.09401C217.994 2.49001 217.73 2.68801 217.51 2.68801H204.508Z" fill="white"/>
          <path d="M245.317 2.68801C245.141 2.68801 245.141 2.49001 245.317 2.09401C245.537 1.65401 245.801 1.21401 246.109 0.774015C246.417 0.334014 246.637 0.114014 246.769 0.114014H259.837C260.101 0.114014 260.123 0.334014 259.903 0.774015C259.727 1.21401 259.463 1.65401 259.111 2.09401C258.803 2.49001 258.539 2.68801 258.319 2.68801H245.317Z" fill="white"/>
          <path d="M286.126 2.68801C285.95 2.68801 285.95 2.49001 286.126 2.09401C286.346 1.65401 286.61 1.21401 286.918 0.774015C287.226 0.334014 287.446 0.114014 287.578 0.114014H300.646C300.91 0.114014 300.932 0.334014 300.712 0.774015C300.536 1.21401 300.272 1.65401 299.92 2.09401C299.612 2.49001 299.348 2.68801 299.128 2.68801H286.126Z" fill="white"/>
        </svg>

        <div v-if="transitionComplete" class="relative h-fit">
          <svg class="m-auto h-[20svh]" viewBox="0 0 661 219" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M135.74 155.915C135.74 175.232 129.538 190.075 117.135 200.445C104.731 210.815 88.973 216 69.8597 216H5.50469C4.08135 216 2.96302 215.593 2.14969 214.78C1.33635 213.967 0.929688 212.848 0.929688 211.425V7.07504C0.929688 5.65171 1.33635 4.53338 2.14969 3.72005C2.96302 2.90671 4.08135 2.50005 5.50469 2.50005H60.7097C82.873 2.50005 100.156 7.48171 112.56 17.4451C125.166 27.4084 131.47 42.455 131.47 62.5851C131.47 81.2917 125.675 95.2201 114.085 104.37C113.068 105.183 112.865 105.895 113.475 106.505C128.318 117.892 135.74 134.362 135.74 155.915ZM60.0997 51.605C58.8797 51.605 58.2697 52.215 58.2697 53.435V83.9351C58.2697 85.1551 58.8797 85.7651 60.0997 85.7651H61.6247C70.7747 85.7651 75.3497 80.0717 75.3497 68.6851C75.3497 57.2984 70.7747 51.605 61.6247 51.605H60.0997ZM65.2847 166.895C69.148 166.895 72.2997 165.268 74.7397 162.015C77.1797 158.558 78.3997 153.678 78.3997 147.375C78.3997 141.072 77.1797 136.09 74.7397 132.43C72.503 128.567 69.453 126.635 65.5897 126.635H60.0997C58.8797 126.635 58.2697 127.245 58.2697 128.465V165.065C58.2697 166.285 58.8797 166.895 60.0997 166.895H65.2847Z" fill="white"/>
            <path d="M273.714 47.0301C273.714 48.4534 273.307 49.5717 272.494 50.385C271.681 51.1984 270.562 51.605 269.139 51.605H210.884C209.664 51.605 209.054 52.215 209.054 53.435V82.7151C209.054 83.9351 209.664 84.5451 210.884 84.5451H241.079C242.502 84.5451 243.621 84.9517 244.434 85.7651C245.247 86.5784 245.654 87.6967 245.654 89.1201V129.075C245.654 130.498 245.247 131.617 244.434 132.43C243.621 133.243 242.502 133.65 241.079 133.65H210.884C209.664 133.65 209.054 134.26 209.054 135.48V165.065C209.054 166.285 209.664 166.895 210.884 166.895H269.139C270.562 166.895 271.681 167.302 272.494 168.115C273.307 168.928 273.714 170.047 273.714 171.47V211.425C273.714 212.848 273.307 213.967 272.494 214.78C271.681 215.593 270.562 216 269.139 216H156.289C154.866 216 153.747 215.593 152.934 214.78C152.121 213.967 151.714 212.848 151.714 211.425V7.07504C151.714 5.65171 152.121 4.53338 152.934 3.72005C153.747 2.90671 154.866 2.50005 156.289 2.50005H269.139C270.562 2.50005 271.681 2.90671 272.494 3.72005C273.307 4.53338 273.714 5.65171 273.714 7.07504V47.0301Z" fill="white"/>
            <path d="M355.252 218.44C335.122 218.44 318.957 212.848 306.757 201.665C294.557 190.278 288.457 175.13 288.457 156.22V61.9751C288.457 43.065 294.557 28.0184 306.757 16.835C318.957 5.65172 335.122 0.0600586 355.252 0.0600586C368.468 0.0600586 380.058 2.60172 390.022 7.68505C400.188 12.7684 408.017 20.0884 413.507 29.6451C419.2 38.9984 422.047 49.9784 422.047 62.5851V72.6501C422.047 74.0734 421.64 75.1917 420.827 76.0051C420.013 76.8184 418.895 77.2251 417.472 77.2251H369.282C367.858 77.2251 366.74 76.8184 365.927 76.0051C365.113 75.1917 364.707 74.0734 364.707 72.6501V61.9751C364.707 58.1117 363.792 55.0617 361.962 52.8251C360.335 50.385 358.098 49.165 355.252 49.165C352.405 49.165 350.067 50.385 348.237 52.8251C346.61 55.0617 345.797 58.1117 345.797 61.9751V156.525C345.797 160.388 346.61 163.54 348.237 165.98C350.067 168.217 352.405 169.335 355.252 169.335C358.098 169.335 360.335 168.217 361.962 165.98C363.792 163.54 364.707 160.388 364.707 156.525V141.58C364.707 140.36 364.097 139.75 362.877 139.75H360.437C359.013 139.75 357.895 139.343 357.082 138.53C356.268 137.717 355.862 136.598 355.862 135.175V100.1C355.862 98.6767 356.268 97.5584 357.082 96.745C357.895 95.9317 359.013 95.5251 360.437 95.5251H417.472C418.895 95.5251 420.013 95.9317 420.827 96.745C421.64 97.5584 422.047 98.6767 422.047 100.1V156.22C422.047 168.623 419.2 179.603 413.507 189.16C408.017 198.513 400.188 205.732 390.022 210.815C380.058 215.898 368.468 218.44 355.252 218.44Z" fill="white"/>
            <path d="M443.561 216C442.138 216 441.019 215.593 440.206 214.78C439.393 213.967 438.986 212.848 438.986 211.425V7.07504C438.986 5.65171 439.393 4.53338 440.206 3.72005C441.019 2.90671 442.138 2.50005 443.561 2.50005H491.751C493.174 2.50005 494.293 2.90671 495.106 3.72005C495.919 4.53338 496.326 5.65171 496.326 7.07504V211.425C496.326 212.848 495.919 213.967 495.106 214.78C494.293 215.593 493.174 216 491.751 216H443.561Z" fill="white"/>
            <path d="M603.757 7.07504C603.757 5.65171 604.164 4.53338 604.977 3.72005C605.791 2.90671 606.909 2.50005 608.332 2.50005H655.912C657.336 2.50005 658.454 2.90671 659.267 3.72005C660.081 4.53338 660.487 5.65171 660.487 7.07504V211.425C660.487 212.848 660.081 213.967 659.267 214.78C658.454 215.593 657.336 216 655.912 216H601.622C598.979 216 597.352 214.678 596.742 212.035L573.562 119.62C573.359 119.01 572.952 118.705 572.342 118.705C571.732 118.705 571.427 119.112 571.427 119.925L572.037 211.425C572.037 212.848 571.631 213.967 570.817 214.78C570.004 215.593 568.886 216 567.462 216H519.882C518.459 216 517.341 215.593 516.527 214.78C515.714 213.967 515.307 212.848 515.307 211.425V7.07504C515.307 5.65171 515.714 4.53338 516.527 3.72005C517.341 2.90671 518.459 2.50005 519.882 2.50005H573.562C576.206 2.50005 577.832 3.82171 578.442 6.46505L601.927 99.1851C602.131 99.9984 602.537 100.405 603.147 100.405C603.757 100.405 604.062 99.9984 604.062 99.1851L603.757 7.07504Z" fill="white"/>
          </svg>
          <div class="bg-black transition-all duration-150 my-auto top-0 bottom-0 absolute w-full z-10" :class="curtainsOpen ? 'h-full' : 'h-0'"/>
        </div>
        <svg class="m-auto -mr-10 w-1/2" viewBox="0 0 301 3" fill="none" xmlns="http://www.w3.org/2000/svg" :class="curtainsOpen && 'animate__animated animate__fadeOutUp animate__faster'">
          <path d="M0.462078 2.68801C0.286078 2.68801 0.286078 2.49001 0.462078 2.09401C0.682078 1.65401 0.946078 1.21401 1.25408 0.774015C1.56208 0.334014 1.78208 0.114014 1.91408 0.114014H14.9821C15.2461 0.114014 15.2681 0.334014 15.0481 0.774015C14.8721 1.21401 14.6081 1.65401 14.2561 2.09401C13.9481 2.49001 13.6841 2.68801 13.4641 2.68801H0.462078Z" fill="white"/>
          <path d="M41.2712 2.68801C41.0952 2.68801 41.0952 2.49001 41.2712 2.09401C41.4912 1.65401 41.7552 1.21401 42.0632 0.774015C42.3712 0.334014 42.5912 0.114014 42.7232 0.114014H55.7912C56.0552 0.114014 56.0772 0.334014 55.8572 0.774015C55.6812 1.21401 55.4172 1.65401 55.0652 2.09401C54.7572 2.49001 54.4932 2.68801 54.2732 2.68801H41.2712Z" fill="white"/>
          <path d="M82.0804 2.68801C81.9044 2.68801 81.9044 2.49001 82.0804 2.09401C82.3004 1.65401 82.5644 1.21401 82.8724 0.774015C83.1804 0.334014 83.4004 0.114014 83.5324 0.114014H96.6004C96.8644 0.114014 96.8864 0.334014 96.6664 0.774015C96.4904 1.21401 96.2264 1.65401 95.8744 2.09401C95.5664 2.49001 95.3024 2.68801 95.0824 2.68801H82.0804Z" fill="white"/>
          <path d="M122.89 2.68801C122.714 2.68801 122.714 2.49001 122.89 2.09401C123.11 1.65401 123.374 1.21401 123.682 0.774015C123.99 0.334014 124.209 0.114014 124.341 0.114014H137.41C137.674 0.114014 137.695 0.334014 137.475 0.774015C137.299 1.21401 137.036 1.65401 136.684 2.09401C136.376 2.49001 136.111 2.68801 135.891 2.68801H122.89Z" fill="white"/>
          <path d="M163.699 2.68801C163.523 2.68801 163.523 2.49001 163.699 2.09401C163.919 1.65401 164.183 1.21401 164.491 0.774015C164.799 0.334014 165.019 0.114014 165.151 0.114014H178.219C178.483 0.114014 178.505 0.334014 178.285 0.774015C178.109 1.21401 177.845 1.65401 177.493 2.09401C177.185 2.49001 176.921 2.68801 176.701 2.68801H163.699Z" fill="white"/>
          <path d="M204.508 2.68801C204.332 2.68801 204.332 2.49001 204.508 2.09401C204.728 1.65401 204.992 1.21401 205.3 0.774015C205.608 0.334014 205.828 0.114014 205.96 0.114014H219.028C219.292 0.114014 219.314 0.334014 219.094 0.774015C218.918 1.21401 218.654 1.65401 218.302 2.09401C217.994 2.49001 217.73 2.68801 217.51 2.68801H204.508Z" fill="white"/>
          <path d="M245.317 2.68801C245.141 2.68801 245.141 2.49001 245.317 2.09401C245.537 1.65401 245.801 1.21401 246.109 0.774015C246.417 0.334014 246.637 0.114014 246.769 0.114014H259.837C260.101 0.114014 260.123 0.334014 259.903 0.774015C259.727 1.21401 259.463 1.65401 259.111 2.09401C258.803 2.49001 258.539 2.68801 258.319 2.68801H245.317Z" fill="white"/>
          <path d="M286.126 2.68801C285.95 2.68801 285.95 2.49001 286.126 2.09401C286.346 1.65401 286.61 1.21401 286.918 0.774015C287.226 0.334014 287.446 0.114014 287.578 0.114014H300.646C300.91 0.114014 300.932 0.334014 300.712 0.774015C300.536 1.21401 300.272 1.65401 299.92 2.09401C299.612 2.49001 299.348 2.68801 299.128 2.68801H286.126Z" fill="white"/>
        </svg>
      </div>
    </div>
    <div class="absolute top-0 left-0 h-full bg-black transition-all duration-700 delay-3s" :class="transitionComplete ? 'w-1/2' : 'w-0'"/>
    <div class="absolute top-0 right-0 h-full bg-black transition-all duration-700 delay-4s" :class="transitionComplete ? 'w-1/2' : 'w-0'"/>
  </div>
  <div class="flex h-screen w-full">
    <div class="z-10 h-full w-4 flex-col">
      <div class="flex h-full flex-col bg-slate-200">
        <div class="relative flex-1 cursor-pointer bg-[#F60000] group" @click="setCurrentStage('skills')">
          <div class="absolute top-0 select-none bottom-0 left-full my-auto h-fit -translate-x-24 rotate-90 text-4xl font-black uppercase text-[#F60000] transition-all duration-75 font-barlow group-hover:translate-x-0" :class="currentStage === 'skills' ? '!translate-x-0' : ''">
            Stats
          </div>
        </div>
        <div class="relative flex-1 cursor-pointer bg-[#FF8700] group" @click="setCurrentStage('work')">
          <div class="absolute top-0 select-none bottom-0 left-full my-auto h-fit -translate-x-24 rotate-90 text-4xl font-black uppercase text-[#FF8700] transition-all duration-75 font-barlow group-hover:translate-x-0" :class="currentStage === 'work' ? '!translate-x-0' : ''">
            Work
          </div>
        </div>
        <div class="relative flex-1 cursor-pointer bg-[#73C900] group" @click="setCurrentStage('about')">
          <div class="absolute top-0 select-none bottom-0 left-full my-auto h-fit -translate-x-24 rotate-90 text-4xl font-black uppercase text-[#73C900] transition-all duration-75 font-barlow group-hover:translate-x-0" :class="currentStage === 'about' ? '!translate-x-0' : ''">
            About
          </div>
        </div>
        <div class="relative flex-1 cursor-pointer bg-[#0095E9] group" @click="setCurrentStage('clients')">
          <div class="absolute top-0 select-none bottom-0 left-full my-auto -translate-x-24 rotate-90 text-4xl font-black uppercase h-2 text-[#0095E9] transition-all duration-75 font-barlow group-hover:translate-x-0" :class="currentStage === 'clients' ? '!translate-x-0' : ''">
            Clients
          </div>
        </div>
      </div>
    </div>

    <div class="w-full overflow-auto">
      <Skills v-if="currentStage === 'skills'"/>
      <Work v-if="currentStage === 'work'"/>
      <About v-if="currentStage === 'about'"/>
      <Employment v-if="currentStage === 'clients'"/>
      <Closure v-if="currentStage === 'closure'"/>
    </div>
  </div>
</template>

<script setup>
import 'animate.css';
import {ref} from "vue";
import Hero from "~/src/components/sections/hero/hero.vue";
import About from "~/src/components/sections/about/about.vue";
import Work from "~/src/components/sections/work/work.vue";
import Skills from "~/src/components/sections/skills/skills.vue";
import Employment from "~/src/components/sections/employment/employment.vue";
import Closure from "~/src/components/sections/closure/closure.vue";

const currentStage = ref('skills');
const openCurtains = ref(false)
const transitionComplete = ref(true);
const curtainsOpen = ref(false);

const alreadySeen = ref();


const setCurrentStage = (stage) => {
  currentStage.value = stage;
};

const openCurtainsAction = () => {
  curtainsOpen.value = true;

  setTimeout(() => {
    transitionComplete.value = false;
  }, 300)

  setTimeout(() => {
    openCurtains.value = true;
  }, 1200);


}

</script>

<style>

::-webkit-scrollbar {
  width: 10px; /* For vertical scrollbars */
}

/* Track (the part the scrollbar sits in) */
::-webkit-scrollbar-track {
  background: #fff; /* Color of the tracking area */
}

/* Handle (the draggable scrolling element) */
::-webkit-scrollbar-thumb {
  background: #000000; /* Color of the scroll thumb */
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
  background: #555; /* Color of the scroll thumb on hover */
}
</style>