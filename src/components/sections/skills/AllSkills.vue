<template>
  <div v-if="states.viewingSkills === true" class="fixed top-0 left-0 z-20 flex w-full flex-col bg-white h-[100svh] animate__animated animate__slideInDown animate__faster lg:pt-20">
    <div class="absolute top-0 right-5 flex cursor-pointer rounded-b-3xl bg-slate-900 px-10 group lg:right-[10%] lg:px-20" @click="$emit('viewSkills')">
      <div class="flex space-x-8">
        <span class="pt-2 pb-3 font-black uppercase leading-none text-white transition-all duration-100 text-[2rem] font-barlow group-hover:opacity-0 lg:text-[3rem] lg:pt-3 lg:pb-5">
          Exit
        </span>
        <div class="my-auto flex h-6 w-6 text-white transition-all duration-100 group-hover:-translate-x-14 lg:h-12 lg:w-12">
          <svg viewBox="0 0 258 333" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M141.767 108.571C127.701 108.571 116.206 96.925 116.206 82.8587C116.206 76.0795 118.899 69.5779 123.693 64.7842C128.487 59.9906 134.988 57.2975 141.767 57.2975C155.985 57.2975 167.48 68.7925 167.48 82.8587C167.48 96.925 155.985 108.571 141.767 108.571ZM99.2224 271.23C97.3112 279.693 89.0025 285.091 80.4927 283.398L18.9315 271.148C11.8448 269.738 7.2457 262.846 8.66277 255.761C10.0835 248.657 17.0094 244.063 24.1064 245.517L58.2115 252.502C66.9156 254.285 75.4053 248.635 77.1208 239.917L90.9475 169.657C92.4511 162.017 84.9116 155.736 77.6686 158.595C73.9076 160.079 71.4362 163.712 71.4362 167.755V191.532C71.4362 198.59 65.7141 204.312 58.6556 204.312C51.597 204.312 45.875 198.59 45.875 191.532V155.003C45.875 148.585 49.71 142.788 55.6167 140.277L110.327 117.025C111.719 116.434 113.187 116.043 114.688 115.863L122.559 114.924C131.634 114.924 139.196 120.066 144.187 127.78L157.195 148.199C165.643 163.231 180.928 174.284 199.613 177.752C206.512 179.033 212.25 184.591 212.25 191.607C212.25 198.624 206.536 204.401 199.582 203.459C187.358 201.804 175.826 197.801 165.586 191.985C154.667 185.783 138.227 190.537 135.801 202.858C134.807 207.91 136.459 213.12 140.183 216.675L156.025 231.802C159.187 234.821 160.976 239.002 160.976 243.374V320.094C160.976 327.153 155.254 332.875 148.196 332.875C141.137 332.875 135.415 327.153 135.415 320.094V262.609C135.415 258.222 133.613 254.027 130.432 251.006L128.914 249.565C119.91 241.017 105.025 245.534 102.29 257.644L99.2224 271.23ZM257.625 317.75C257.625 326.103 250.853 332.875 242.5 332.875C234.147 332.875 227.375 326.103 227.375 317.75V46.375C227.375 37.5384 220.212 30.375 211.375 30.375H46.75C37.9134 30.375 30.75 37.5384 30.75 46.375V210.033C30.75 219.636 21.9154 226.808 12.5165 224.835C5.51398 223.364 0.499969 217.188 0.499969 210.033V16.125C0.499969 7.28846 7.66341 0.125 16.5 0.125H241.625C250.462 0.125 257.625 7.28844 257.625 16.125V317.75ZM30.75 317.75C30.75 326.103 23.9783 332.875 15.625 332.875C7.27166 332.875 0.499969 326.103 0.499969 317.75V302.804C0.499969 293.2 9.33457 286.028 18.7334 288.002C25.736 289.472 30.75 295.648 30.75 302.804V317.75Z" fill="currentColor"/>
          </svg>

          <div class="absolute top-0 right-20 bottom-0 m-auto flex h-fit w-fit -translate-x-4 opacity-0 transition-all duration-100 group-hover:translate-x-4 group-hover:opacity-100">
            <div class="flex h-6 w-6">
              <svg viewBox="0 0 10 9" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0.500049 5.00015C0.500049 5.19907 0.579067 5.38983 0.71972 5.53048C0.860372 5.67114 1.05114 5.75015 1.25005 5.75015L7.19005 5.75015L5.22005 7.72015C5.08757 7.86233 5.01545 8.05037 5.01887 8.24468C5.0223 8.43898 5.10101 8.62436 5.23843 8.76177C5.37584 8.89919 5.56123 8.9779 5.75553 8.98133C5.94983 8.98476 6.13787 8.91263 6.28005 8.78015L9.53005 5.53015C9.6705 5.38953 9.74939 5.1989 9.74939 5.00015C9.74939 4.8014 9.6705 4.61078 9.53005 4.47015L6.28005 1.22015C6.21139 1.14647 6.12859 1.08736 6.03659 1.04637C5.94459 1.00538 5.84528 0.983339 5.74457 0.981562C5.64387 0.979785 5.54384 0.99831 5.45045 1.03603C5.35706 1.07375 5.27223 1.1299 5.20101 1.20111C5.12979 1.27233 5.07365 1.35717 5.03593 1.45056C4.99821 1.54394 4.97968 1.64397 4.98146 1.74468C4.98323 1.84538 5.00528 1.94469 5.04627 2.03669C5.08726 2.12869 5.14636 2.21149 5.22005 2.28015L7.19005 4.25015L1.25005 4.25015C0.836049 4.25015 0.500049 4.58615 0.500049 5.00015Z" fill="white"/>
              </svg>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="flex h-full flex-col justify-between space-y-6">
      <div class="container mx-auto flex flex-1 flex-col overflow-auto space-y-6 lg:px-5">
        <div class="px-5 pt-5 lg:p-0">
          <div class="flex space-x-14">
            <div class="flex flex-col font-black uppercase leading-none text-slate-900 font-barlow text-[7rem] lg:space-x-6 lg:flex-row xl:text-[10rem] 2xl:text-[8rem]">
              <div class="leading-[6rem] lg:leading-[10rem] 2xl:leading-[8rem]">
                Stats
              </div>
            </div>
            <p class="my-auto h-fit pt-2 font-semibold uppercase text-slate-900 font-jet lg:text-justify 2xl:w-7/12 2xl:text-2xl">
              Dive even deeper into more niche skills that I have developed to see how I fit within your team.
            </p>
          </div>
        </div>
        <div class="px-5 lg:px-0">
          <div class="flex flex-wrap gap-x-10 gap-y-2 lg:w-10/12">
            <LegendItem v-for="(item, i) in legend" :key="i" :icon="item.icon" :text="item.text"/>
          </div>
        </div>
        <div class="flex-1 overflow-y-scroll space-y-4">
          <div class="px-5 space-y-2 lg:px-0">
            <div v-for="(categories, i) in skills" :key="i" class="cursor-pointer justify-between bg-slate-900 transition-all duration-100 space-y-4" :class="states.currentSkill === i ? 'rounded-2xl px-5 py-3 lg:px-6 lg:py-4 ' : 'lg:rounded-xl px-4 py-2 lg:px-4 lg:py-3 hover:scale-[0.99] hover:bg-slate-800' " @click="$emit('switchSkill', i)">
              <div class="flex w-full select-none justify-between space-x-6">
                <div class="flex w-full justify-between space-x-6">
                  <div class="flex space-x-3">
                    <i class="my-auto flex h-4 w-4 text-white">
                      <svg viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12.341 2.46154H17.4391C17.795 2.4615 18.1469 2.53276 18.4725 2.67076C18.798 2.80876 19.0901 3.01048 19.3301 3.26304C19.57 3.51561 19.7526 3.81348 19.8662 4.13765C19.9797 4.46183 20.0217 4.80519 19.9895 5.14585L19.1739 13.7612C19.1161 14.3728 18.8226 14.9415 18.351 15.3558C17.8793 15.77 17.2637 15.9998 16.6249 16H3.37499C2.73617 15.9998 2.12051 15.77 1.64888 15.3558C1.17725 14.9415 0.883718 14.3728 0.825904 13.7612L0.0103509 5.14585C-0.0431184 4.57582 0.111713 4.0057 0.448215 3.53354L0.398283 2.46154C0.398283 1.8087 0.66806 1.1826 1.14827 0.720968C1.62847 0.25934 2.27978 0 2.95889 0H7.66017C8.33923 0.000139415 8.99042 0.259571 9.47052 0.721231L10.5306 1.74031C11.0107 2.20197 11.6619 2.4614 12.341 2.46154ZM1.68627 2.60923C1.96111 2.51159 2.25302 2.46236 2.562 2.46154H9.47052L8.56534 1.59138C8.32529 1.36055 7.9997 1.23084 7.66017 1.23077H2.95889C2.62351 1.23071 2.30149 1.35717 2.06207 1.58295C1.82266 1.80873 1.68496 2.1158 1.67859 2.43815L1.68627 2.60923Z" fill="currentColor"/>
                      </svg>
                    </i>
                    <span class="my-auto flex h-fit font-semibold uppercase leading-none text-white font-jet lg:text-xl">{{ categories.category }}</span>
                  </div>

                  <div v-if="countExpert(categories)" class="flex space-x-3">
                    <i class="my-auto flex h-3 w-3 text-white lg:h-4 lg:w-4">
                      <svg viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M6 0H14C15.5913 0 17.1174 0.632141 18.2426 1.75736C19.3679 2.88258 20 4.4087 20 6V14C20 15.5913 19.3679 17.1174 18.2426 18.2426C17.1174 19.3679 15.5913 20 14 20H6C4.4087 20 2.88258 19.3679 1.75736 18.2426C0.632141 17.1174 0 15.5913 0 14L0 6C0 4.4087 0.632141 2.88258 1.75736 1.75736C2.88258 0.632141 4.4087 0 6 0ZM12 9C11.7348 9 11.4804 9.10536 11.2929 9.29289C11.1054 9.48043 11 9.73478 11 10C11 10.2652 11.1054 10.5196 11.2929 10.7071C11.4804 10.8946 11.7348 11 12 11H15C15.2652 11 15.5196 10.8946 15.7071 10.7071C15.8946 10.5196 16 10.2652 16 10C16 9.73478 15.8946 9.48043 15.7071 9.29289C15.5196 9.10536 15.2652 9 15 9H12ZM10 13C9.73478 13 9.48043 13.1054 9.29289 13.2929C9.10536 13.4804 9 13.7348 9 14C9 14.2652 9.10536 14.5196 9.29289 14.7071C9.48043 14.8946 9.73478 15 10 15H15C15.2652 15 15.5196 14.8946 15.7071 14.7071C15.8946 14.5196 16 14.2652 16 14C16 13.7348 15.8946 13.4804 15.7071 13.2929C15.5196 13.1054 15.2652 13 15 13H10ZM10 5C9.73478 5 9.48043 5.10536 9.29289 5.29289C9.10536 5.48043 9 5.73478 9 6C9 6.26522 9.10536 6.51957 9.29289 6.70711C9.48043 6.89464 9.73478 7 10 7H15C15.2652 7 15.5196 6.89464 15.7071 6.70711C15.8946 6.51957 16 6.26522 16 6C16 5.73478 15.8946 5.48043 15.7071 5.29289C15.5196 5.10536 15.2652 5 15 5H10ZM5.828 10.243L5.121 9.536C5.02875 9.44049 4.91841 9.36431 4.7964 9.3119C4.6744 9.25949 4.54318 9.2319 4.4104 9.23075C4.27762 9.2296 4.14594 9.2549 4.02305 9.30518C3.90015 9.35546 3.7885 9.42971 3.69461 9.52361C3.60071 9.6175 3.52646 9.72915 3.47618 9.85205C3.4259 9.97494 3.4006 10.1066 3.40175 10.2394C3.4029 10.3722 3.43049 10.5034 3.4829 10.6254C3.53531 10.7474 3.61149 10.8578 3.707 10.95L5.121 12.364C5.21387 12.457 5.32416 12.5307 5.44556 12.5811C5.56696 12.6314 5.69708 12.6573 5.8285 12.6573C5.95992 12.6573 6.09004 12.6314 6.21144 12.5811C6.33284 12.5307 6.44313 12.457 6.536 12.364L9.364 9.536C9.55177 9.34849 9.65737 9.09407 9.65756 8.82871C9.65774 8.56334 9.55251 8.30877 9.365 8.121C9.17749 7.93323 8.92307 7.82763 8.65771 7.82744C8.39234 7.82726 8.13777 7.93249 7.95 8.12L5.828 10.242V10.243Z" fill="currentColor"/>
                      </svg>
                    </i>
                    <span class="my-auto flex h-fit text-xl font-semibold uppercase leading-none text-white font-jet">{{ countExpert(categories) }}</span>
                  </div>
                </div>
                <div class="my-auto flex h-3 w-3 transition-all duration-100 lg:h-5 lg:w-5" :class="states.currentSkill === i ? '-rotate-90':'rotate-45  '">
                  <svg viewBox="0 0 19 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M-2.99735e-07 6.85714L-3.99647e-07 9.14286L14.25 9.14286L14.25 11.4286L16.625 11.4286L16.625 9.14286L19 9.14286L19 6.85714L16.625 6.85714L16.625 4.57143L14.25 4.57143L14.25 6.85714L-2.99735e-07 6.85714ZM11.875 2.28571L14.25 2.28571L14.25 4.57143L11.875 4.57143L11.875 2.28571ZM11.875 2.28571L9.5 2.28571L9.5 -4.15258e-07L11.875 -3.11444e-07L11.875 2.28571ZM11.875 13.7143L14.25 13.7143L14.25 11.4286L11.875 11.4286L11.875 13.7143ZM11.875 13.7143L9.5 13.7143L9.5 16L11.875 16L11.875 13.7143Z" fill="white"/>
                  </svg>
                </div>
              </div>

              <div v-if="states.currentSkill === i" class="transition-all duration-100 space-y-4">
                <div class="flex justify-between">
                  <div class="w-full rounded-full bg-white h-[2px]"/>
                  <div class="rounded-full bg-white h-[2px] w-[20%]"/>
                </div>
                <div class="space-y-8 lg:space-y-2">
                  <div v-for="(skillz, ii) in categories.skills" :key="ii" class="flex animate__animated animate__fadeIn animate__faster">
                    <div class="flex w-full flex-col justify-between lg:flex-row" :class="skillz.in_depth && 'space-y-2 lg:space-y-0'">
                      <div class="flex w-full space-x-6 lg:w-2/3">
                        <div class="flex flex-col gap-x-6 gap-y-2 lg:flex-row lg:gap-y-0">
                          <SkillInside class="w-fit lg:w-64" icon="<svg viewBox=&quot;0 0 20 20&quot; fill=&quot;none&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;> <path fill-rule=&quot;evenodd&quot; clip-rule=&quot;evenodd&quot; d=&quot;M1.464 1.464C0 2.93 0 5.286 0 10C0 14.714 0 17.071 1.464 18.535C2.93 20 5.286 20 10 20C14.714 20 17.071 20 18.535 18.535C20 17.072 20 14.714 20 10C20 5.286 20 2.929 18.535 1.464C17.072 0 14.714 0 10 0C5.286 0 2.929 0 1.464 1.464ZM4.424 7.52C4.55134 7.36729 4.73411 7.27139 4.93213 7.25338C5.13015 7.23538 5.32721 7.29675 5.48 7.424L5.757 7.654C6.362 8.158 6.877 8.587 7.233 8.982C7.612 9.402 7.907 9.883 7.907 10.5C7.907 11.117 7.612 11.599 7.233 12.018C6.877 12.413 6.362 12.842 5.757 13.346L5.48 13.576C5.40473 13.6418 5.31705 13.692 5.22213 13.7234C5.1272 13.7549 5.02694 13.7671 4.92724 13.7592C4.82754 13.7513 4.73042 13.7236 4.6416 13.6777C4.55277 13.6317 4.47403 13.5685 4.41001 13.4917C4.34598 13.4148 4.29797 13.326 4.2688 13.2303C4.23962 13.1347 4.22987 13.0341 4.24012 12.9347C4.25037 12.8352 4.28041 12.7388 4.32847 12.6511C4.37654 12.5634 4.44166 12.4862 4.52 12.424L4.754 12.229C5.413 11.679 5.844 11.319 6.12 11.013C6.382 10.723 6.407 10.586 6.407 10.5C6.407 10.414 6.382 10.278 6.12 9.987C5.843 9.681 5.413 9.32 4.754 8.771L4.52 8.576C4.36729 8.44866 4.27139 8.26589 4.25338 8.06787C4.23538 7.86985 4.29675 7.67279 4.424 7.52ZM15.75 13C15.75 13.1989 15.671 13.3897 15.5303 13.5303C15.3897 13.671 15.1989 13.75 15 13.75H10C9.80109 13.75 9.61032 13.671 9.46967 13.5303C9.32902 13.3897 9.25 13.1989 9.25 13C9.25 12.8011 9.32902 12.6103 9.46967 12.4697C9.61032 12.329 9.80109 12.25 10 12.25H15C15.1989 12.25 15.3897 12.329 15.5303 12.4697C15.671 12.6103 15.75 12.8011 15.75 13Z&quot; fill=&quot;currentColor&quot; /> </svg>">
                            {{ skillz.name }}
                          </SkillInside>
                          <SkillInside class="w-fit lg:w-52" :class="skillz.time === null && 'opacity-0'" icon="<svg viewBox=&quot;0 0 21 20&quot; fill=&quot;none&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;> <path d=&quot;M10.6667 0C16.1897 0 20.6667 4.477 20.6667 10C20.6667 15.523 16.1897 20 10.6667 20C5.14375 20 0.666748 15.523 0.666748 10C0.666748 4.477 5.14375 0 10.6667 0ZM10.6667 4C10.4015 4 10.1472 4.10536 9.95964 4.29289C9.77211 4.48043 9.66675 4.73478 9.66675 5V10C9.6668 10.2652 9.7722 10.5195 9.95975 10.707L12.9597 13.707C13.1484 13.8892 13.401 13.99 13.6631 13.9877C13.9253 13.9854 14.1762 13.8802 14.3616 13.6948C14.547 13.5094 14.6521 13.2586 14.6544 12.9964C14.6567 12.7342 14.5559 12.4816 14.3737 12.293L11.6667 9.586V5C11.6667 4.73478 11.5614 4.48043 11.3739 4.29289C11.1863 4.10536 10.932 4 10.6667 4Z&quot; fill=&quot;currentColor&quot; /> </svg>">
                            {{ formatTime(skillz.time) }}
                          </SkillInside>
                        </div>
                        <div class="flex flex-col gap-x-6 gap-y-2 lg:flex-row lg:gap-y-0">
                          <SkillInside :class="skillz.syntax === 'na' && 'opacity-0'" class="w-32" icon="<svg viewBox=&quot;0 0 22 16&quot; fill=&quot;none&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;> <path d=&quot;M13.8099 0.222658C14.0937 0.344047 14.3157 0.568672 14.427 0.847145C14.5384 1.12562 14.53 1.43514 14.4036 1.70766L8.15363 15.2077C8.09321 15.3457 8.00469 15.4708 7.89326 15.5755C7.78183 15.6803 7.64974 15.7627 7.50472 15.8178C7.3597 15.8729 7.20468 15.8997 7.04875 15.8966C6.89281 15.8934 6.73909 15.8605 6.5966 15.7996C6.45412 15.7386 6.32573 15.651 6.21897 15.5419C6.1122 15.4327 6.02921 15.3042 5.97486 15.1639C5.9205 15.0235 5.89588 14.8742 5.90243 14.7246C5.90898 14.575 5.94658 14.4281 6.01301 14.2927L12.263 0.792658C12.3895 0.520194 12.6234 0.30709 12.9135 0.200201C13.2036 0.093313 13.526 0.101391 13.8099 0.222658ZM5.36145 3.78516C5.59351 3.9832 5.73422 4.26155 5.75268 4.55911C5.77114 4.85666 5.66583 5.14908 5.45988 5.37216L3.02551 8.00016L5.45988 10.6282C5.66626 10.8513 5.77182 11.1441 5.75336 11.442C5.7349 11.7399 5.59393 12.0185 5.36145 12.2167C5.24634 12.3148 5.11222 12.3901 4.96677 12.4385C4.82132 12.4868 4.66737 12.5072 4.51372 12.4984C4.2034 12.4807 3.91313 12.3453 3.70676 12.1222L0.581759 8.74716C0.391315 8.54128 0.286133 8.2755 0.286133 8.00016C0.286133 7.72482 0.391315 7.45904 0.581759 7.25316L3.70676 3.87816C3.80908 3.76729 3.93319 3.67691 4.07198 3.6122C4.21078 3.5475 4.36151 3.50974 4.51554 3.5011C4.66957 3.49246 4.82387 3.51311 4.96956 3.56185C5.11526 3.6106 5.2495 3.68648 5.36457 3.78516M16.3083 3.78516C16.4233 3.68694 16.5573 3.61144 16.7027 3.56296C16.8481 3.51447 17.0021 3.49397 17.1557 3.5026C17.3094 3.51124 17.4598 3.54885 17.5983 3.61329C17.7368 3.67773 17.8607 3.76773 17.963 3.87816L21.088 7.25316C21.2785 7.45904 21.3836 7.72482 21.3836 8.00016C21.3836 8.2755 21.2785 8.54128 21.088 8.74716L17.963 12.1222C17.7566 12.3453 17.4664 12.4807 17.1561 12.4984C16.8457 12.5161 16.5408 12.4148 16.3083 12.2167C16.0758 12.0185 15.9349 11.7399 15.9164 11.442C15.8979 11.1441 16.0035 10.8513 16.2099 10.6282L18.6396 8.00016L16.2083 5.37216C16.0024 5.14908 15.8971 4.85666 15.9155 4.55911C15.934 4.26155 16.0763 3.9832 16.3083 3.78516Z&quot; fill=&quot;currentColor&quot; /> </svg>">
                            {{ skillz.syntax !== 'na' && skillz.syntax + '%' }}
                          </SkillInside>
                          <SkillInside :class="skillz.projects === 'na' && 'opacity-0'" class="w-32" icon="<svg viewBox=&quot;0 0 18 16&quot; fill=&quot;none&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;> <path d=&quot;M16 0C16.5304 0 17.0391 0.210714 17.4142 0.585786C17.7893 0.960859 18 1.46957 18 2V14C18 14.5304 17.7893 15.0391 17.4142 15.4142C17.0391 15.7893 16.5304 16 16 16H2C1.46957 16 0.960859 15.7893 0.585786 15.4142C0.210714 15.0391 0 14.5304 0 14V2C0 1.46957 0.210714 0.960859 0.585786 0.585786C0.960859 0.210714 1.46957 0 2 0H16ZM16 6H2V13C2.00003 13.2449 2.08996 13.4813 2.25272 13.6644C2.41547 13.8474 2.63975 13.9643 2.883 13.993L3 14H15C15.2449 14 15.4813 13.91 15.6644 13.7473C15.8474 13.5845 15.9643 13.3603 15.993 13.117L16 13V6ZM3 2C2.73478 2 2.48043 2.10536 2.29289 2.29289C2.10536 2.48043 2 2.73478 2 3C2 3.26522 2.10536 3.51957 2.29289 3.70711C2.48043 3.89464 2.73478 4 3 4C3.26522 4 3.51957 3.89464 3.70711 3.70711C3.89464 3.51957 4 3.26522 4 3C4 2.73478 3.89464 2.48043 3.70711 2.29289C3.51957 2.10536 3.26522 2 3 2ZM6 2C5.73478 2 5.48043 2.10536 5.29289 2.29289C5.10536 2.48043 5 2.73478 5 3C5 3.26522 5.10536 3.51957 5.29289 3.70711C5.48043 3.89464 5.73478 4 6 4C6.26522 4 6.51957 3.89464 6.70711 3.70711C6.89464 3.51957 7 3.26522 7 3C7 2.73478 6.89464 2.48043 6.70711 2.29289C6.51957 2.10536 6.26522 2 6 2ZM9 2C8.73478 2 8.48043 2.10536 8.29289 2.29289C8.10536 2.48043 8 2.73478 8 3C8 3.26522 8.10536 3.51957 8.29289 3.70711C8.48043 3.89464 8.73478 4 9 4C9.26522 4 9.51957 3.89464 9.70711 3.70711C9.89464 3.51957 10 3.26522 10 3C10 2.73478 9.89464 2.48043 9.70711 2.29289C9.51957 2.10536 9.26522 2 9 2Z&quot; fill=&quot;currentColor&quot; /> </svg>">
                            {{ skillz.projects !== 'na' && skillz.projects }}
                          </SkillInside>
                        </div>
                      </div>
                      <div class="flex w-fit">
                        <ProjectLink v-if="skillz.in_depth" :key="ii" @click.stop="$emit('viewInDepth', skillz)">
                          Read More
                        </ProjectLink>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <PoloColors class="flex h-5"/>
    </div>
  </div>
</template>
<script setup>
import LegendItem from "~/src/components/sections/skills/skill/LegendItem.vue";
import SkillInside from "~/src/components/sections/skills/skill/SkillInside.vue";
import ProjectLink from "~/src/components/sections/work/Project/ProjectLink.vue";
import TitleHead from "~/src/components/reusables/TitleHead.vue";
import PoloColors from "~/src/components/misc/PoloColors.vue";

const emits = defineEmits(['switchSkill', 'viewSkills', 'viewInDepth']);
const props = defineProps(['states', 'skills']);

const legend = [
  {
    icon: `<svg viewBox="0 0 22 17" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M13.5751 2.61538H19.183C19.5744 2.61535 19.9616 2.69106 20.3197 2.83768C20.6778 2.98431 20.9991 3.19863 21.2631 3.46698C21.5271 3.73533 21.7279 4.05182 21.8528 4.39626C21.9777 4.74069 22.0239 5.10552 21.9884 5.46746L21.0913 14.6213C21.0277 15.2711 20.7049 15.8754 20.1861 16.3155C19.6673 16.7556 18.99 16.9997 18.2873 17H3.71249C3.00978 16.9997 2.33256 16.7556 1.81377 16.3155C1.29498 15.8754 0.97209 15.2711 0.908495 14.6213L0.011386 5.46746C-0.0474302 4.86181 0.122885 4.25605 0.493036 3.75438L0.438111 2.61538C0.438111 1.92174 0.734867 1.25651 1.26309 0.766028C1.79132 0.275549 2.50775 0 3.25478 0H8.42618C9.17315 0.000148129 9.88946 0.275794 10.4176 0.766308L11.5837 1.84908C12.1118 2.33959 12.8281 2.61524 13.5751 2.61538ZM1.8549 2.77231C2.15722 2.66856 2.47832 2.61626 2.8182 2.61538H10.4176L9.42188 1.69085C9.15782 1.44559 8.79967 1.30777 8.42618 1.30769H3.25478C2.88586 1.30763 2.53164 1.44199 2.26828 1.68188C2.00492 1.92177 1.85346 2.24804 1.84645 2.59054L1.8549 2.77231Z" fill="currentColor"/> </svg>`,
    text: `Category`,
  },
  {
    icon: `<svg viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M6 0.5H14C15.5913 0.5 17.1174 1.13214 18.2426 2.25736C19.3679 3.38258 20 4.9087 20 6.5V14.5C20 16.0913 19.3679 17.6174 18.2426 18.7426C17.1174 19.8679 15.5913 20.5 14 20.5H6C4.4087 20.5 2.88258 19.8679 1.75736 18.7426C0.632141 17.6174 0 16.0913 0 14.5L0 6.5C0 4.9087 0.632141 3.38258 1.75736 2.25736C2.88258 1.13214 4.4087 0.5 6 0.5ZM12 9.5C11.7348 9.5 11.4804 9.60536 11.2929 9.79289C11.1054 9.98043 11 10.2348 11 10.5C11 10.7652 11.1054 11.0196 11.2929 11.2071C11.4804 11.3946 11.7348 11.5 12 11.5H15C15.2652 11.5 15.5196 11.3946 15.7071 11.2071C15.8946 11.0196 16 10.7652 16 10.5C16 10.2348 15.8946 9.98043 15.7071 9.79289C15.5196 9.60536 15.2652 9.5 15 9.5H12ZM10 13.5C9.73478 13.5 9.48043 13.6054 9.29289 13.7929C9.10536 13.9804 9 14.2348 9 14.5C9 14.7652 9.10536 15.0196 9.29289 15.2071C9.48043 15.3946 9.73478 15.5 10 15.5H15C15.2652 15.5 15.5196 15.3946 15.7071 15.2071C15.8946 15.0196 16 14.7652 16 14.5C16 14.2348 15.8946 13.9804 15.7071 13.7929C15.5196 13.6054 15.2652 13.5 15 13.5H10ZM10 5.5C9.73478 5.5 9.48043 5.60536 9.29289 5.79289C9.10536 5.98043 9 6.23478 9 6.5C9 6.76522 9.10536 7.01957 9.29289 7.20711C9.48043 7.39464 9.73478 7.5 10 7.5H15C15.2652 7.5 15.5196 7.39464 15.7071 7.20711C15.8946 7.01957 16 6.76522 16 6.5C16 6.23478 15.8946 5.98043 15.7071 5.79289C15.5196 5.60536 15.2652 5.5 15 5.5H10ZM5.828 10.743L5.121 10.036C5.02875 9.94049 4.91841 9.86431 4.7964 9.8119C4.6744 9.75949 4.54318 9.7319 4.4104 9.73075C4.27762 9.7296 4.14594 9.7549 4.02305 9.80518C3.90015 9.85546 3.7885 9.92971 3.69461 10.0236C3.60071 10.1175 3.52646 10.2291 3.47618 10.352C3.4259 10.4749 3.4006 10.6066 3.40175 10.7394C3.4029 10.8722 3.43049 11.0034 3.4829 11.1254C3.53531 11.2474 3.61149 11.3578 3.707 11.45L5.121 12.864C5.21387 12.957 5.32416 13.0307 5.44556 13.0811C5.56696 13.1314 5.69708 13.1573 5.8285 13.1573C5.95992 13.1573 6.09004 13.1314 6.21144 13.0811C6.33284 13.0307 6.44313 12.957 6.536 12.864L9.364 10.036C9.55177 9.84849 9.65737 9.59407 9.65756 9.32871C9.65774 9.06334 9.55251 8.80877 9.365 8.621C9.17749 8.43323 8.92307 8.32763 8.65771 8.32744C8.39234 8.32726 8.13777 8.43249 7.95 8.62L5.828 10.742V10.743Z" fill="currentColor"/> </svg>`,
    text: `Expert-Level Entries`,
  },
  {
    icon: `<svg  viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M1.464 1.964C0 3.43 0 5.786 0 10.5C0 15.214 0 17.571 1.464 19.035C2.93 20.5 5.286 20.5 10 20.5C14.714 20.5 17.071 20.5 18.535 19.035C20 17.572 20 15.214 20 10.5C20 5.786 20 3.429 18.535 1.964C17.072 0.5 14.714 0.5 10 0.5C5.286 0.5 2.929 0.5 1.464 1.964ZM4.424 8.02C4.55134 7.86729 4.73411 7.77139 4.93213 7.75338C5.13015 7.73538 5.32721 7.79675 5.48 7.924L5.757 8.154C6.362 8.658 6.877 9.087 7.233 9.482C7.612 9.902 7.907 10.383 7.907 11C7.907 11.617 7.612 12.099 7.233 12.518C6.877 12.913 6.362 13.342 5.757 13.846L5.48 14.076C5.40473 14.1418 5.31705 14.192 5.22213 14.2234C5.1272 14.2549 5.02694 14.2671 4.92724 14.2592C4.82754 14.2513 4.73042 14.2236 4.6416 14.1777C4.55277 14.1317 4.47403 14.0685 4.41001 13.9917C4.34598 13.9148 4.29797 13.826 4.2688 13.7303C4.23962 13.6347 4.22987 13.5341 4.24012 13.4347C4.25037 13.3352 4.28041 13.2388 4.32847 13.1511C4.37654 13.0634 4.44166 12.9862 4.52 12.924L4.754 12.729C5.413 12.179 5.844 11.819 6.12 11.513C6.382 11.223 6.407 11.086 6.407 11C6.407 10.914 6.382 10.778 6.12 10.487C5.843 10.181 5.413 9.82 4.754 9.271L4.52 9.076C4.36729 8.94866 4.27139 8.76589 4.25338 8.56787C4.23538 8.36985 4.29675 8.17279 4.424 8.02ZM15.75 13.5C15.75 13.6989 15.671 13.8897 15.5303 14.0303C15.3897 14.171 15.1989 14.25 15 14.25H10C9.80109 14.25 9.61032 14.171 9.46967 14.0303C9.32902 13.8897 9.25 13.6989 9.25 13.5C9.25 13.3011 9.32902 13.1103 9.46967 12.9697C9.61032 12.829 9.80109 12.75 10 12.75H15C15.1989 12.75 15.3897 12.829 15.5303 12.9697C15.671 13.1103 15.75 13.3011 15.75 13.5Z" fill="currentColor"/> </svg>`,
    text: `Software name`,
  },
  {
    icon: `<svg viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M10 0.5C15.523 0.5 20 4.977 20 10.5C20 16.023 15.523 20.5 10 20.5C4.477 20.5 0 16.023 0 10.5C0 4.977 4.477 0.5 10 0.5ZM10 4.5C9.73478 4.5 9.48043 4.60536 9.29289 4.79289C9.10536 4.98043 9 5.23478 9 5.5V10.5C9.00006 10.7652 9.10545 11.0195 9.293 11.207L12.293 14.207C12.4816 14.3892 12.7342 14.49 12.9964 14.4877C13.2586 14.4854 13.5094 14.3802 13.6948 14.1948C13.8802 14.0094 13.9854 13.7586 13.9877 13.4964C13.99 13.2342 13.8892 12.9816 13.707 12.793L11 10.086V5.5C11 5.23478 10.8946 4.98043 10.7071 4.79289C10.5196 4.60536 10.2652 4.5 10 4.5Z" fill="currentColor"/> </svg>`,
    text: `Time Using Software`,
  },
  {
    icon: `<svg viewBox="0 0 23 17" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M14.4765 0.722658C14.7603 0.844047 14.9823 1.06867 15.0937 1.34714C15.205 1.62562 15.1966 1.93514 15.0703 2.20766L8.82026 15.7077C8.75983 15.8457 8.67131 15.9708 8.55989 16.0755C8.44846 16.1803 8.31636 16.2627 8.17135 16.3178C8.02633 16.3729 7.87131 16.3997 7.71537 16.3966C7.55943 16.3934 7.40572 16.3605 7.26323 16.2996C7.12074 16.2386 6.99236 16.151 6.88559 16.0419C6.77883 15.9327 6.69584 15.8042 6.64148 15.6639C6.58713 15.5235 6.56251 15.3742 6.56906 15.2246C6.57561 15.075 6.6132 14.9281 6.67964 14.7927L12.9296 1.29266C13.0561 1.02019 13.2901 0.80709 13.5801 0.700201C13.8702 0.593313 14.1926 0.601391 14.4765 0.722658ZM6.02807 4.28516C6.26014 4.4832 6.40085 4.76155 6.41931 5.05911C6.43776 5.35666 6.33246 5.64908 6.12651 5.87216L3.69213 8.50016L6.12651 11.1282C6.33288 11.3513 6.43845 11.6441 6.41999 11.942C6.40153 12.2399 6.26055 12.5185 6.02807 12.7167C5.91296 12.8148 5.77885 12.8901 5.6334 12.9385C5.48794 12.9868 5.33399 13.0072 5.18034 12.9984C4.87003 12.9807 4.57976 12.8453 4.37338 12.6222L1.24838 9.24716C1.05794 9.04128 0.952759 8.7755 0.952759 8.50016C0.952759 8.22482 1.05794 7.95904 1.24838 7.75316L4.37338 4.37816C4.4757 4.26729 4.59982 4.17691 4.73861 4.1122C4.8774 4.0475 5.02814 4.00974 5.18217 4.0011C5.3362 3.99246 5.49049 4.01311 5.63619 4.06185C5.78189 4.1106 5.91613 4.18648 6.0312 4.28516M16.9749 4.28516C17.0899 4.18694 17.224 4.11144 17.3694 4.06296C17.5148 4.01447 17.6687 3.99397 17.8224 4.0026C17.976 4.01124 18.1264 4.04885 18.2649 4.11329C18.4034 4.17773 18.5274 4.26773 18.6296 4.37816L21.7546 7.75316C21.9451 7.95904 22.0503 8.22482 22.0503 8.50016C22.0503 8.7755 21.9451 9.04128 21.7546 9.24716L18.6296 12.6222C18.4233 12.8453 18.133 12.9807 17.8227 12.9984C17.5124 13.0161 17.2074 12.9148 16.9749 12.7167C16.7425 12.5185 16.6015 12.2399 16.583 11.942C16.5646 11.6441 16.6701 11.3513 16.8765 11.1282L19.3062 8.50016L16.8749 5.87216C16.669 5.64908 16.5637 5.35666 16.5822 5.05911C16.6006 4.76155 16.7429 4.4832 16.9749 4.28516Z" fill="currentColor"/> </svg>`,
    text: `Software Knowledge`,
  },
  {
    icon: `<svg viewBox="0 0 18 17" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M16 0.5C16.5304 0.5 17.0391 0.710714 17.4142 1.08579C17.7893 1.46086 18 1.96957 18 2.5V14.5C18 15.0304 17.7893 15.5391 17.4142 15.9142C17.0391 16.2893 16.5304 16.5 16 16.5H2C1.46957 16.5 0.960859 16.2893 0.585786 15.9142C0.210714 15.5391 0 15.0304 0 14.5V2.5C0 1.96957 0.210714 1.46086 0.585786 1.08579C0.960859 0.710714 1.46957 0.5 2 0.5H16ZM16 6.5H2V13.5C2.00003 13.7449 2.08996 13.9813 2.25272 14.1644C2.41547 14.3474 2.63975 14.4643 2.883 14.493L3 14.5H15C15.2449 14.5 15.4813 14.41 15.6644 14.2473C15.8474 14.0845 15.9643 13.8603 15.993 13.617L16 13.5V6.5ZM3 2.5C2.73478 2.5 2.48043 2.60536 2.29289 2.79289C2.10536 2.98043 2 3.23478 2 3.5C2 3.76522 2.10536 4.01957 2.29289 4.20711C2.48043 4.39464 2.73478 4.5 3 4.5C3.26522 4.5 3.51957 4.39464 3.70711 4.20711C3.89464 4.01957 4 3.76522 4 3.5C4 3.23478 3.89464 2.98043 3.70711 2.79289C3.51957 2.60536 3.26522 2.5 3 2.5ZM6 2.5C5.73478 2.5 5.48043 2.60536 5.29289 2.79289C5.10536 2.98043 5 3.23478 5 3.5C5 3.76522 5.10536 4.01957 5.29289 4.20711C5.48043 4.39464 5.73478 4.5 6 4.5C6.26522 4.5 6.51957 4.39464 6.70711 4.20711C6.89464 4.01957 7 3.76522 7 3.5C7 3.23478 6.89464 2.98043 6.70711 2.79289C6.51957 2.60536 6.26522 2.5 6 2.5ZM9 2.5C8.73478 2.5 8.48043 2.60536 8.29289 2.79289C8.10536 2.98043 8 3.23478 8 3.5C8 3.76522 8.10536 4.01957 8.29289 4.20711C8.48043 4.39464 8.73478 4.5 9 4.5C9.26522 4.5 9.51957 4.39464 9.70711 4.20711C9.89464 4.01957 10 3.76522 10 3.5C10 3.23478 9.89464 2.98043 9.70711 2.79289C9.51957 2.60536 9.26522 2.5 9 2.5Z" fill="currentColor"/> </svg>`,
    text: `Projects Using Software`,
  },
]
function formatTime(hours){
  if (hours < 72){
    return `${hours} h`; // Less than 72 hours
  } else if (hours < 8760){ // 365 days
    const days = Math.round(hours / 24);
    return `${days} days`;
  } else if (hours < 105120){ // 12 months
    const months = Math.round(hours / (24 * 365 / 12));
    return `${months} months`;
  } else {
    const years = Math.round(hours / (24 * 365));
    return `${years} years`;
  }
}


const countExpert = (categories) => {
  const skillsAbove60 = categories.skills.filter(skill => skill.syntax !== "na" && parseInt(skill.syntax) >= 40);
  const count = skillsAbove60.length;
  return count;
};
</script>